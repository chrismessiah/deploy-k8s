# https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/#config-file
# https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta1

# Settings used for kubeadm join
# https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta1#hdr-Kubeadm_join_configuration_types
# https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta1#JoinConfiguration
apiVersion: kubeadm.k8s.io/v1beta1
kind: JoinConfiguration
nodeRegistration:
  name: "ec2-10-100-0-1"
  criSocket: "/var/run/dockershim.sock"
  kubeletExtraArgs:
    cgroup-driver: "cgroupfs"
discovery:
  bootstrapToken:
    apiServerEndpoint: ${K8S_API_ENDPOINT_INTERNAL} # MASTER_PUBLIC_IP
    token: "abcdef.0123456789abcdef" # Kubeadm TOKEN
